<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í‹°ì¼“íŒ… ì—°ìŠµ ê²Œì„</title>
    <style>
        .seat {
            width: 50px;
            height: 50px;
            display: inline-block;
            border: 1px solid #000;
            margin: 2px;
            text-align: center;
            line-height: 50px;
        }
        
        .highlight {
            background-color: purple; /* ë³´ë¼ìƒ‰ ê°•ì¡° */
        }

        /* ê²Œì„ ì˜ì—­ì„ 10ê°œ ê°€ë¡œ, 20ê°œ ì„¸ë¡œë¡œ ì„¤ì • */
        #gameArea {
            display: grid;
            grid-template-columns: repeat(10, 1fr); /* 10ê°œ ì—´ ì„¤ì • */
            grid-template-rows: repeat(20, 50px); /* 20ê°œ í–‰ ì„¤ì • */
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .button-container {
            text-align: center; /* ë²„íŠ¼ì„ ì¤‘ì•™ì— ë°°ì¹˜ */
            margin: 20px 0; /* ìœ„ì•„ë˜ ì—¬ë°± */
        }

        #shareButton {
            padding: 15px 30px; /* ë²„íŠ¼ íŒ¨ë”© */
            font-size: 1.5em; /* ë²„íŠ¼ í°íŠ¸ í¬ê¸° */
            margin-left: 20px; /* ê²Œì„ ì‹œì‘ ë²„íŠ¼ê³¼ì˜ ê°„ê²© */
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">í‹°ì¼“íŒ… ì—°ìŠµ ê²Œì„ by í‹°ì¼“ë² ì´</h1>
    <a href="https://docs.google.com/spreadsheets/d/11laZK5DD7qdyScZ7MxolMjFwTL7aNeC6n3MvixHay10/edit?gid=1640163547#gid=1640163547" target="_blank">
        <img id="gameImage" src="https://m.ticketbay.co.kr/attach/og/ca5d7-8f2-44b7-99c-05bc0110d.png" alt="ê²Œì„ ì´ë¯¸ì§€" style="display: block; margin: 0 auto; width: 25%;" />
    </a>
    <br><br>
    
    <div class="button-container">
        <button id="startButton" style="padding: 15px 30px; font-size: 1.5em;">ê²Œì„ ì‹œì‘</button>
        <button id="shareButton">ê³µìœ í•˜ê¸°</button> <!-- ê³µìœ í•˜ê¸° ë²„íŠ¼ ì¶”ê°€ -->
    </div>

    <div id="gameArea"></div>
    <div id="resultArea" style="text-align: center; display: none;"></div>

    <script>
        const startButton = document.getElementById('startButton');
        const shareButton = document.getElementById('shareButton'); // ê³µìœ í•˜ê¸° ë²„íŠ¼ ìš”ì†Œ
        const gameArea = document.getElementById('gameArea');
        const resultArea = document.getElementById('resultArea');

        let clickTimes = [];
        let currentBoxIndex = 0;

        const seats = Array.from({ length: 200 }, () => document.createElement('div'));

        startButton.addEventListener('click', () => {
            startGame();
        });

        shareButton.addEventListener('click', () => {
            copyToClipboard('https://www.ticketbay.co.kr'); // ë§í¬ ë³µì‚¬ í•¨ìˆ˜ í˜¸ì¶œ
        });

        function startGame() {
            clickTimes = [];
            currentBoxIndex = 0;
            gameArea.innerHTML = '';
            gameArea.style.display = 'block';
            seats.forEach(seat => {
                seat.classList.add('seat');
                seat.classList.remove('highlight');
                gameArea.appendChild(seat);
            });
            showNextBox();
        }

        function showNextBox() {
            if (currentBoxIndex < 10) {
                const seatIndex = Math.floor(Math.random() * seats.length);
                const selectedSeat = seats[seatIndex];
                selectedSeat.classList.add('highlight');
                const startTime = new Date().getTime();

                selectedSeat.addEventListener('click', () => {
                    const endTime = new Date().getTime();
                    const clickTime = endTime - startTime;
                    clickTimes.push(clickTime);
                    selectedSeat.classList.remove('highlight');
                    currentBoxIndex++;
                    showNextBox();
                }, { once: true });
            } else {
                endGame();
            }
        }

        function endGame() {
            gameArea.style.display = 'none';
            resultArea.style.display = 'block';
            const fastest = Math.min(...clickTimes) / 1000;
            const slowest = Math.max(...clickTimes) / 1000;
            const average = clickTimes.reduce((a, b) => a + b, 0) / clickTimes.length / 1000;

            resultArea.innerHTML = `
                <h2>ê²Œì„ ì¢…ë£Œ!</h2>
                <p>ê°€ì¥ ë¹ ë¥¸ í´ë¦­ ë°˜ì‘ ì†ë„: ${fastest.toFixed(2)} ì´ˆ</p>
                <p>ê°€ì¥ ëŠë¦° í´ë¦­ ë°˜ì‘ ì†ë„: ${slowest.toFixed(2)} ì´ˆ</p>
                <p>í‰ê·  í´ë¦­ ë°˜ì‘ ì†ë„: ${average.toFixed(2)} ì´ˆ</p>
                <br><br>
            `;

            if (fastest < 1) {
                resultArea.innerHTML += `<p>ì†ê°€ë½ ì¢€ ì“¸ ì¤„ ì•„ì‹œëŠ”êµ°ìš”?!</p>`;
            } else {
                resultArea.innerHTML += `<p>ê³µì—° ë³´ê³ ì‹¶ìœ¼ì‹œë©´, ë¶„ë°œí•˜ì…”ì•¼ê² ì–´ìš”..!ğŸ˜† í•˜ì§€ë§Œ, ê±±ì •ë§ˆì„¸ìš”! í‹°ì¼“ë² ì´ê°€ ìˆì–´ìš” ğŸ˜‰</p>`;
            }
        }

        function copyToClipboard(text) {
            // í´ë¦½ë³´ë“œì— í…ìŠ¤íŠ¸ ë³µì‚¬í•˜ëŠ” í•¨ìˆ˜
            navigator.clipboard.writeText(text).then(() => {
                alert('ê³µìœ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!'); // ë³µì‚¬ ì™„ë£Œ ë©”ì‹œì§€
            }, (err) => {
                console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:', err);
            });
        }
    </script>
</body>
</html>
