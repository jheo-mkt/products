<h1 style="text-align: center;">í‹°ì¼“íŒ… ì—°ìŠµ ê²Œì„ by í‹°ì¼“ë² ì´</h1> <!-- í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ -->

<!-- ì´ë¯¸ì§€ í´ë¦­ ì‹œ ë§í¬ë¡œ ì´ë™í•˜ë„ë¡ ì¶”ê°€ -->
<a href="https://docs.google.com/spreadsheets/d/11laZK5DD7qdyScZ7MxolMjFwTL7aNeC6n3MvixHay10/edit?gid=1640163547#gid=1640163547" target="_blank">
    <!-- ì´ë¯¸ì§€ í¬ê¸° 25%, ì¤‘ì•™ ì •ë ¬ (ì›ë˜ 50%ì˜ 50%) -->
    <img id="gameImage" src="https://m.ticketbay.co.kr/attach/og/ca5d7-8f2-44b7-99c-05bc0110d.png" alt="ê²Œì„ ì´ë¯¸ì§€" style="display: block; margin: 0 auto; width: 25%;" />
</a>

<br><br> <!-- ë‘ ì¤„ ë„ìš°ê¸° -->

<!-- ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì¶”ê°€: ì¤‘ì•™ ì •ë ¬ ë° í¬ê¸° ì¡°ì • -->
<button id="startButton" style="display: block; margin: 0 auto; padding: 15px 30px; font-size: 1.5em;">ê²Œì„ ì‹œì‘</button> <!-- ë²„íŠ¼ í¬ê¸° 50% ì¦ê°€, ì¤‘ì•™ ì •ë ¬ -->

<div id="gameArea"></div> <!-- ê²Œì„ ì˜ì—­ -->

<div id="resultArea" style="text-align: center; display: none;"></div> <!-- ê²°ê³¼ í‘œì‹œ ì˜ì—­, ì¤‘ì•™ ì •ë ¬ -->

<script>
    const startButton = document.getElementById('startButton'); // ì‹œì‘ ë²„íŠ¼ ìš”ì†Œ
    const gameArea = document.getElementById('gameArea'); // ê²Œì„ ì˜ì—­ ìš”ì†Œ
    const resultArea = document.getElementById('resultArea'); // ê²°ê³¼ ì˜ì—­ ìš”ì†Œ

    let clickTimes = []; // í´ë¦­ ì‹œê°„ì„ ì €ì¥í•  ë°°ì—´
    let currentBoxIndex = 0; // í˜„ì¬ ë°•ìŠ¤ ì¸ë±ìŠ¤

    // ì¢Œì„ ë°°ì—´ ìƒì„± (200ê°œ)
    const seats = Array.from({ length: 200 }, () => document.createElement('div'));

    // ê²Œì„ ì‹œì‘ í•¨ìˆ˜
    startButton.addEventListener('click', () => {
        startGame(); // ê²Œì„ ì‹œì‘
    });

    function startGame() {
        // ê²Œì„ ìƒíƒœ ì´ˆê¸°í™”
        clickTimes = []; // í´ë¦­ ì‹œê°„ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤
        currentBoxIndex = 0; // í˜„ì¬ ë°•ìŠ¤ ì¸ë±ìŠ¤ ì´ˆê¸°í™”

        // ê²Œì„ ì˜ì—­ ì´ˆê¸°í™”
        gameArea.innerHTML = ''; // ê¸°ì¡´ ê²Œì„ ì˜ì—­ ë‚´ìš© ì œê±°
        gameArea.style.display = 'block'; // ê²Œì„ ì˜ì—­ í‘œì‹œ

        // ì¢Œì„ ìƒì„± ë° ì´ˆê¸°í™”
        seats.forEach(seat => {
            seat.classList.add('seat'); // ì¢Œì„ í´ë˜ìŠ¤ ì¶”ê°€
            seat.classList.remove('highlight'); // ê°•ì¡° ì œê±°
            gameArea.appendChild(seat); // ê²Œì„ ì˜ì—­ì— ì¢Œì„ ì¶”ê°€
        });

        // ì²« ë²ˆì§¸ ë°•ìŠ¤ í‘œì‹œ
        showNextBox(); // ë‹¤ìŒ ë°•ìŠ¤ í‘œì‹œ
    }

    function showNextBox() {
        // ë°•ìŠ¤ê°€ 10ê°œ í´ë¦­ë  ë•Œê¹Œì§€ ì‹¤í–‰
        if (currentBoxIndex < 10) {
            const seatIndex = Math.floor(Math.random() * seats.length); // ëœë¤ ì¢Œì„ ì„ íƒ
            const selectedSeat = seats[seatIndex];
            selectedSeat.classList.add('highlight'); // ë³´ë¼ìƒ‰ ë°•ìŠ¤ ê°•ì¡°

            const startTime = new Date().getTime(); // í´ë¦­ ì‹œì‘ ì‹œê°„ ê¸°ë¡

            selectedSeat.addEventListener('click', () => {
                const endTime = new Date().getTime(); // í´ë¦­ ì¢…ë£Œ ì‹œê°„ ê¸°ë¡
                const clickTime = endTime - startTime; // í´ë¦­ ì‹œê°„ ê³„ì‚°
                clickTimes.push(clickTime); // í´ë¦­ ì‹œê°„ì„ ë°°ì—´ì— ì €ì¥

                selectedSeat.classList.remove('highlight'); // ê°•ì¡° ì œê±°
                currentBoxIndex++; // ë°•ìŠ¤ ì¸ë±ìŠ¤ ì¦ê°€
                showNextBox(); // ë‹¤ìŒ ë°•ìŠ¤ í‘œì‹œ
            }, { once: true }); // í•œë²ˆë§Œ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
        } else {
            endGame(); // ê²Œì„ ì¢…ë£Œ
        }
    }

    function endGame() {
        gameArea.style.display = 'none'; // ê²Œì„ ì˜ì—­ ìˆ¨ê¸°ê¸°
        resultArea.style.display = 'block'; // ê²°ê³¼ ì˜ì—­ ë³´ì´ê¸°

        // ê²°ê³¼ ê³„ì‚°
        const fastest = Math.min(...clickTimes) / 1000; // msë¥¼ ì´ˆë¡œ ë³€í™˜
        const slowest = Math.max(...clickTimes) / 1000; // msë¥¼ ì´ˆë¡œ ë³€í™˜
        const average = clickTimes.reduce((a, b) => a + b, 0) / clickTimes.length / 1000; // msë¥¼ ì´ˆë¡œ ë³€í™˜

        // ê²°ê³¼ ì¶œë ¥
        resultArea.innerHTML = `
            <h2>ê²Œì„ ì¢…ë£Œ!</h2>
            <p>ê°€ì¥ ë¹ ë¥¸ í´ë¦­ ë°˜ì‘ ì†ë„: ${fastest.toFixed(2)} ì´ˆ</p>
            <p>ê°€ì¥ ëŠë¦° í´ë¦­ ë°˜ì‘ ì†ë„: ${slowest.toFixed(2)} ì´ˆ</p>
            <p>í‰ê·  í´ë¦­ ë°˜ì‘ ì†ë„: ${average.toFixed(2)} ì´ˆ</p>
            <br><br> <!-- ë‘ ì¤„ ë„ìš°ê¸° -->
        `;

        // ë°˜ì‘ ì†ë„ì— ë”°ë¥¸ ë©”ì‹œì§€ ì¶œë ¥
        if (fastest < 1) {
            resultArea.innerHTML += `<p>ì†ê°€ë½ ì¢€ ì“¸ ì¤„ ì•„ì‹œëŠ”êµ°ìš”?!ğŸ˜†ğŸ˜†</p>`; // ë¹ ë¥¸ ë°˜ì‘ì— ëŒ€í•œ ë©”ì‹œì§€
        } else {
            resultArea.innerHTML += `<p>ê³µì—° ë³´ê³ ì‹¶ìœ¼ì‹œë©´, ë¶„ë°œí•˜ì…”ì•¼ê² ì–´ìš”..! í•˜ì§€ë§Œ, ê±±ì •ë§ˆì„¸ìš”! í‹°ì¼“ë² ì´ê°€ ìˆì–´ìš” ğŸ˜‰</p>`; // ëŠë¦° ë°˜ì‘ì— ëŒ€í•œ ë©”ì‹œì§€
        }
    }
</script>

<style>
    .seat {
        width: 50px;
        height: 50px;
        display: inline-block;
        border: 1px solid #000;
        margin: 2px;
        text-align: center;
        line-height: 50px;
    }
    
    .highlight {
        background-color: purple; /* ë³´ë¼ìƒ‰ ê°•ì¡° */
    }

    /* ê²Œì„ ì˜ì—­ì„ 10ê°œ ê°€ë¡œ, 20ê°œ ì„¸ë¡œë¡œ ì„¤ì • */
    #gameArea {
        display: grid;
        grid-template-columns: repeat(10, 1fr); /* 10ê°œ ì—´ ì„¤ì • */
        grid-template-rows: repeat(20, 50px); /* 20ê°œ í–‰ ì„¤ì • */
    }
</style>
